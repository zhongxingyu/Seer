 /*
  * To change this template, choose Tools | Templates
  * and open the template in the editor.
  */
 package kodiak;
 
 import java.awt.Dimension;
 import java.awt.Font;
 import java.awt.event.ActionEvent;
 import java.awt.event.ActionListener;
 import java.text.DateFormat;
 import java.text.SimpleDateFormat;
 import java.util.Calendar;
 import javax.swing.Timer;
 
 /**
  *
  * @author Wayne E Starr
  */
 public class Main extends javax.swing.JPanel {
     
     final DateFormat timeFormat = new SimpleDateFormat("h:m a");
     final DateFormat dateFormat = new SimpleDateFormat("E, M d, Y");
     final static int interval = 60000; // every minute
 
     /**
      * Creates new form Main
      */
     public Main() {
         initComponents();
         initTimeDate();
     }
    
     public void initTimeDate() {
        final Calendar now = Calendar.getInstance();
         
         // Update clock
         new Timer(interval, new ActionListener() {
             @Override
             public void actionPerformed(ActionEvent e) {
                 lblTime.setText(timeFormat.format(now.getTime()));
             }
         }).start();
         
         // Update date
         lblDate.setText(dateFormat.format(now.getTime()));
     }
     
     /**
      * This method is called from within the constructor to initialize the form.
      * WARNING: Do NOT modify this code. The content of this method is always
      * regenerated by the Form Editor.
      */
     @SuppressWarnings("unchecked")
     // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
     private void initComponents() {
 
         lblTime = new javax.swing.JLabel();
         lblDate = new javax.swing.JLabel();
         btnSettings = new javax.swing.JButton();
         btnFullscreen = new javax.swing.JButton();
         btnTray = new javax.swing.JButton();
 
         setPreferredSize(new java.awt.Dimension(640, 360));
         addComponentListener(new java.awt.event.ComponentAdapter() {
             public void componentResized(java.awt.event.ComponentEvent evt) {
                 formComponentResized(evt);
             }
         });
         addPropertyChangeListener(new java.beans.PropertyChangeListener() {
             public void propertyChange(java.beans.PropertyChangeEvent evt) {
                 formPropertyChange(evt);
             }
         });
 
         lblTime.setFont(new java.awt.Font("Tahoma", 0, 120)); // NOI18N
         lblTime.setHorizontalAlignment(javax.swing.SwingConstants.TRAILING);
         lblTime.setText("12:02 PM");
 
         lblDate.setFont(new java.awt.Font("Tahoma", 0, 40)); // NOI18N
         lblDate.setText("Wednesday, July 31, 2013");
 
         btnSettings.setIcon(new javax.swing.ImageIcon(getClass().getResource("/kodiak/Options.png"))); // NOI18N
         btnSettings.setToolTipText("Settings");
         btnSettings.setMaximumSize(new java.awt.Dimension(45, 45));
         btnSettings.setMinimumSize(new java.awt.Dimension(45, 45));
         btnSettings.setPreferredSize(new java.awt.Dimension(45, 45));
 
         btnFullscreen.setText("Fullscreen");
         btnFullscreen.addActionListener(new java.awt.event.ActionListener() {
             public void actionPerformed(java.awt.event.ActionEvent evt) {
                 btnFullscreenActionPerformed(evt);
             }
         });
 
         btnTray.setText("Tray");
 
         javax.swing.GroupLayout layout = new javax.swing.GroupLayout(this);
         this.setLayout(layout);
         layout.setHorizontalGroup(
             layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
             .addGroup(layout.createSequentialGroup()
                 .addContainerGap()
                 .addComponent(btnSettings, javax.swing.GroupLayout.PREFERRED_SIZE, 45, javax.swing.GroupLayout.PREFERRED_SIZE)
                 .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 73, Short.MAX_VALUE)
                 .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                     .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()
                         .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                             .addComponent(lblTime, javax.swing.GroupLayout.Alignment.TRAILING)
                             .addComponent(lblDate, javax.swing.GroupLayout.Alignment.TRAILING))
                         .addContainerGap())
                     .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()
                         .addComponent(btnTray)
                         .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                         .addComponent(btnFullscreen)
                         .addGap(11, 11, 11))))
         );
         layout.setVerticalGroup(
             layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
             .addGroup(layout.createSequentialGroup()
                 .addContainerGap()
                 .addComponent(lblTime)
                 .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                 .addComponent(lblDate)
                 .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 92, Short.MAX_VALUE)
                 .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                     .addComponent(btnSettings, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.PREFERRED_SIZE, 45, javax.swing.GroupLayout.PREFERRED_SIZE)
                     .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                         .addComponent(btnTray)
                         .addComponent(btnFullscreen)))
                 .addContainerGap())
         );
     }// </editor-fold>//GEN-END:initComponents
 
     private void btnFullscreenActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnFullscreenActionPerformed
         // TODO add your handling code here:
     }//GEN-LAST:event_btnFullscreenActionPerformed
 
     private void formPropertyChange(java.beans.PropertyChangeEvent evt) {//GEN-FIRST:event_formPropertyChange
         
     }//GEN-LAST:event_formPropertyChange
 
     private void formComponentResized(java.awt.event.ComponentEvent evt) {//GEN-FIRST:event_formComponentResized
         Dimension size = this.getSize();
         int width = size.width;
         int height = size.height;
         int widthfont = (int) width / 5;
         int heightfont = (int) height / 3;
         if (widthfont > heightfont) {
             Font fntTime = new Font(Font.SANS_SERIF, Font.PLAIN, heightfont);
             Font fntDate = new Font(Font.SANS_SERIF, Font.PLAIN, heightfont/3);
             this.lblTime.setFont(fntTime);
             this.lblDate.setFont(fntDate);
         } else {
             Font fntTime = new Font(Font.SANS_SERIF, Font.PLAIN, widthfont);
             Font fntDate = new Font(Font.SANS_SERIF, Font.PLAIN, widthfont/3);
             this.lblTime.setFont(fntTime);
             this.lblDate.setFont(fntDate);
         }
         repaint();
     }//GEN-LAST:event_formComponentResized
 
     // Variables declaration - do not modify//GEN-BEGIN:variables
     private javax.swing.JButton btnFullscreen;
     private javax.swing.JButton btnSettings;
     private javax.swing.JButton btnTray;
     private javax.swing.JLabel lblDate;
     private javax.swing.JLabel lblTime;
     // End of variables declaration//GEN-END:variables
 }
