 /*
  *  Copyright (C) 2010 Stanislav Kogut (stasikos@gmail.com)
  * 
  *  This program is free software: you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
  *  the Free Software Foundation, either version 3 of the License, or
  *  (at your option) any later version.
  * 
  *  This program is distributed in the hope that it will be useful,
  *  but WITHOUT ANY WARRANTY; without even the implied warranty of
  *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  *  GNU General Public License for more details.
  * 
  *  You should have received a copy of the GNU General Public License
  *  along with this program.  If not, see <http://www.gnu.org/licenses/>.
  */
 
 /*
  * TargetsDialog.java
  *
  * Created on Oct 17, 2010, 6:38:33 PM
  */
 package name.stasikos.diarrhoea;
 
 /**
  *
  * @author Stanislav Kogut (stasikos@gmail.com)
  */
 public class TargetsDialog extends javax.swing.JDialog {
 
     private int timeLimit;
     private int wordLimit;
     private boolean canceled = false;
     private static final int WORDS_PER_MINUTE = 20;
 
     /** Creates new form TargetsDialog
      * @param parent
      * @param modal
      * @param timeLimit
      * @param wordLimit 
      */
     public TargetsDialog(java.awt.Frame parent, boolean modal, int timeLimit, int wordLimit) {
         super(parent, modal);
         this.wordLimit = wordLimit;
         this.timeLimit = timeLimit;
         initComponents();
     }
 
     public int getTimeLimit() {
         return timeLimit;
     }
 
     public int getWordCount() {
         return wordLimit;
     }
 
     /** This method is called from within the constructor to
      * initialize the form.
      * WARNING: Do NOT modify this code. The content of this method is
      * always regenerated by the Form Editor.
      */
     @SuppressWarnings("unchecked")
     // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
     private void initComponents() {
         java.awt.GridBagConstraints gridBagConstraints;
 
         jPanel2 = new javax.swing.JPanel();
         jLabel1 = new javax.swing.JLabel();
         spnWordCount = new javax.swing.JSpinner();
         btSuggestCount = new javax.swing.JButton();
         jPanel3 = new javax.swing.JPanel();
         jLabel2 = new javax.swing.JLabel();
         spnLimit = new javax.swing.JSpinner();
         btSuggestLimit = new javax.swing.JButton();
         jPanel1 = new javax.swing.JPanel();
         bkOk = new javax.swing.JButton();
         btCancel = new javax.swing.JButton();
 
         setTitle("Targets");
         setBackground(java.awt.Color.white);
         setResizable(false);
         getContentPane().setLayout(new javax.swing.BoxLayout(getContentPane(), javax.swing.BoxLayout.PAGE_AXIS));
 
         jPanel2.setName("jPanel2"); // NOI18N
         jPanel2.setLayout(new java.awt.GridBagLayout());
 
         jLabel1.setText("Word count: ");
         jLabel1.setName("jLabel1"); // NOI18N
         gridBagConstraints = new java.awt.GridBagConstraints();
         gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
         jPanel2.add(jLabel1, gridBagConstraints);
 
         spnWordCount.setModel(new javax.swing.SpinnerNumberModel(Integer.valueOf(50), Integer.valueOf(50), null, Integer.valueOf(10)));
         spnWordCount.setMinimumSize(new java.awt.Dimension(60, 26));
         spnWordCount.setName("spWords"); // NOI18N
         spnWordCount.setPreferredSize(new java.awt.Dimension(80, 26));
         spnWordCount.setValue(wordLimit);
         jPanel2.add(spnWordCount, new java.awt.GridBagConstraints());
 
         btSuggestCount.setText("Suggest word count");
         btSuggestCount.setName("btSuggestCount"); // NOI18N
         btSuggestCount.setPreferredSize(new java.awt.Dimension(150, 27));
         btSuggestCount.addActionListener(new java.awt.event.ActionListener() {
             public void actionPerformed(java.awt.event.ActionEvent evt) {
                 btSuggestCountActionPerformed(evt);
             }
         });
         gridBagConstraints = new java.awt.GridBagConstraints();
         gridBagConstraints.gridx = 0;
         gridBagConstraints.gridy = 1;
         gridBagConstraints.gridwidth = 2;
         gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
         jPanel2.add(btSuggestCount, gridBagConstraints);
 
         getContentPane().add(jPanel2);
 
         jPanel3.setName("jPanel3"); // NOI18N
         jPanel3.setLayout(new java.awt.GridBagLayout());
 
         jLabel2.setText("Time limit (minutes): ");
         jLabel2.setName("jLabel2"); // NOI18N
         jPanel3.add(jLabel2, new java.awt.GridBagConstraints());
 
         spnLimit.setModel(new javax.swing.SpinnerNumberModel(Integer.valueOf(5), Integer.valueOf(5), null, Integer.valueOf(5)));
         spnLimit.setMinimumSize(new java.awt.Dimension(60, 26));
         spnLimit.setName("spLimit"); // NOI18N
         spnLimit.setPreferredSize(new java.awt.Dimension(80, 26));
         spnLimit.setValue(timeLimit);
         jPanel3.add(spnLimit, new java.awt.GridBagConstraints());
 
         btSuggestLimit.setText("Suggest time limit");
         btSuggestLimit.setName("btSuggestLimit"); // NOI18N
         btSuggestLimit.setPreferredSize(new java.awt.Dimension(150, 27));
         btSuggestLimit.addActionListener(new java.awt.event.ActionListener() {
             public void actionPerformed(java.awt.event.ActionEvent evt) {
                 btSuggestLimitActionPerformed(evt);
             }
         });
         gridBagConstraints = new java.awt.GridBagConstraints();
         gridBagConstraints.gridx = 0;
         gridBagConstraints.gridy = 1;
         gridBagConstraints.gridwidth = 2;
         gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
         jPanel3.add(btSuggestLimit, gridBagConstraints);
 
         getContentPane().add(jPanel3);
 
         jPanel1.setBorder(null);
         jPanel1.setName("jPanel1"); // NOI18N
         jPanel1.setLayout(new java.awt.GridLayout(1, 0));
 
         bkOk.setText("OK");
         bkOk.setName("btOk"); // NOI18N
         bkOk.addActionListener(new java.awt.event.ActionListener() {
             public void actionPerformed(java.awt.event.ActionEvent evt) {
                 bkOkActionPerformed(evt);
             }
         });
         jPanel1.add(bkOk);
 
         btCancel.setText("Cancel");
         btCancel.setName("btCancel"); // NOI18N
         btCancel.addActionListener(new java.awt.event.ActionListener() {
             public void actionPerformed(java.awt.event.ActionEvent evt) {
                 btCancelActionPerformed(evt);
             }
         });
         jPanel1.add(btCancel);
 
         getContentPane().add(jPanel1);
 
         pack();
     }// </editor-fold>//GEN-END:initComponents
 
     private void btSuggestCountActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btSuggestCountActionPerformed
         wordLimit = timeLimit * WORDS_PER_MINUTE;
         spnWordCount.getModel().setValue(wordLimit);
     }//GEN-LAST:event_btSuggestCountActionPerformed
 
     private void btSuggestLimitActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btSuggestLimitActionPerformed
         timeLimit = wordLimit / WORDS_PER_MINUTE;
         spnLimit.getModel().setValue(timeLimit);
     }//GEN-LAST:event_btSuggestLimitActionPerformed
 
     private void btCancelActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btCancelActionPerformed
         canceled = true;
         setVisible(false);
     }//GEN-LAST:event_btCancelActionPerformed
 
     private void bkOkActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_bkOkActionPerformed
         timeLimit = (Integer) spnLimit.getModel().getValue();
         wordLimit = (Integer) spnWordCount.getModel().getValue();
 
         setVisible(false);
     }//GEN-LAST:event_bkOkActionPerformed
 
     public boolean isCanceled() {
         return canceled;
     }
     // Variables declaration - do not modify//GEN-BEGIN:variables
     private javax.swing.JButton bkOk;
     private javax.swing.JButton btCancel;
     private javax.swing.JButton btSuggestCount;
     private javax.swing.JButton btSuggestLimit;
     private javax.swing.JLabel jLabel1;
     private javax.swing.JLabel jLabel2;
     private javax.swing.JPanel jPanel1;
     private javax.swing.JPanel jPanel2;
     private javax.swing.JPanel jPanel3;
     private javax.swing.JSpinner spnLimit;
     private javax.swing.JSpinner spnWordCount;
     // End of variables declaration//GEN-END:variables
 }
